# ==========================================
# BuildingAI Sidecar 环境配置
# ==========================================
#
# 用途：BuildingAI侧车服务的环境变量配置
# 启动：cd deploy/buildingai && docker-compose --env-file ../../.env.buildingai up -d
#
# ⚠️ 安全提醒：
# 1. 首次启动后必须修改ADMIN_PASSWORD
# 2. 生产环境请使用强密码
# 3. 本文件不要提交到Git仓库
#
# ==========================================

# ==========================================
# MySQL 配置（使用现有数据库）
# ==========================================
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=dev_password_123
MYSQL_DATABASE=ai_photo

# ==========================================
# Redis 配置（使用独立DB）
# ==========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
# BuildingAI使用DB 1（避免与主应用的DB 0冲突）
REDIS_DB=1

# ==========================================
# BuildingAI 管理员账号
# ==========================================
# ⚠️ 重要：首次启动后立即修改密码！
ADMIN_USERNAME=admin
ADMIN_PASSWORD=BuildingAI_Secure_2025!
ADMIN_EMAIL=admin@your-domain.com

# ==========================================
# JWT 密钥（与主应用隔离）
# ==========================================
JWT_SECRET=buildingai_jwt_secret_key_change_in_production_32chars_minimum

# ==========================================
# 存储配置
# ==========================================
STORAGE_TYPE=local
# 或使用COS（与主应用共享）
# STORAGE_TYPE=cos
# COS_SECRET_ID=xxx
# COS_SECRET_KEY=xxx
# COS_BUCKET=xxx
# COS_REGION=xxx

# ==========================================
# 日志级别
# ==========================================
LOG_LEVEL=info
# 开发环境可设置为debug
# LOG_LEVEL=debug

# ==========================================
# 功能开关
# ==========================================
# 禁用前端（仅使用后端API）
DISABLE_FRONTEND=true
# 禁用CORS（仅BFF内部调用）
ENABLE_CORS=false
# 禁用Swagger文档（安全考虑）
ENABLE_SWAGGER=false

# ==========================================
# 备注
# ==========================================
# 1. BuildingAI侧车仅绑定localhost:4090
# 2. 外部访问需通过BFF或Nginx反代
# 3. 修改配置后需重启服务：
#    docker-compose --env-file ../../.env.buildingai restart
# ==========================================
