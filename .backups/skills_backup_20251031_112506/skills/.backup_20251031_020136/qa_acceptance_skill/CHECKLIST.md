# CHECKLIST.md - QA验收工程师自检清单

## 每次功能验收前必须自检的项目

### ✅ 需求理解和计划制定
- [ ] 我是否完全理解了产品需求的所有细节？
- [ ] 验收标准是否与产品经理确认一致？
- [ ] 测试范围是否明确界定，没有遗漏？
- [ ] 测试计划是否详细且可执行？
- [ ] 测试环境是否准备就绪且稳定？

### ✅ 用户注册登录功能测试
- [ ] 手机号验证码发送是否正常？
- [ ] 验证码校验逻辑是否正确？
- [ ] 登录状态是否正常保持？
- [ ] 登出功能是否工作正常？
- [ ] 异常登录场景是否有合适处理？

### ✅ 会员购买和支付功能测试
- [ ] 会员套餐选择和下单流程是否正常？
- [ ] 微信支付调起和完成流程是否完整？
- [ ] 支付成功后配额是否立即到账？
- [ ] 支付失败时的处理是否正确？
- [ ] 订单状态更新是否及时准确？

### ✅ 配额管理系统测试（核心重点）
- [ ] 配额余额显示是否准确？
- [ ] 任务创建时配额扣减是否正确？
- [ ] 任务失败时配额返还是否及时？
- [ ] 并发场景下配额管理是否安全？
- [ ] 配额不足时的提示和引导是否友好？

### ✅ 基础修图功能测试
- [ ] 图片上传是否支持常见格式？
- [ ] 处理后的图片是否符合要求？
- [ ] 白底主图生成质量是否达标？
- [ ] 处理时间是否在可接受范围内？
- [ ] 批量处理功能是否正常？

### ✅ AI模特生成功能测试
- [ ] 12张分镜生成是否完整？
- [ ] 生成质量是否符合业务要求？
- [ ] 异步处理状态更新是否及时？
- [ ] 处理失败时的重试机制是否有效？
- [ ] 生成结果的展示和下载是否正常？

### ✅ 用户体验和界面测试
- [ ] UI设计与设计稿是否完全一致？
- [ ] 页面加载速度是否达标（<3秒）？
- [ ] 用户操作反馈是否及时友好？
- [ ] 移动端显示效果是否正常？
- [ ] 错误提示是否清晰易懂？

### ✅ 性能和并发测试
- [ ] API响应时间是否 < 500ms？
- [ ] 页面Lighthouse评分是否 > 90？
- [ ] 多用户并发操作是否稳定？
- [ ] 数据库查询是否优化合理？
- [ ] 系统资源使用是否正常？

### ✅ 安全性和权限测试
- [ ] 用户权限控制是否严格有效？
- [ ] 敏感信息是否加密处理？
- [ ] API接口是否有适当的访问控制？
- [ ] 是否能防止常见的Web攻击？
- [ ] 文件上传是否有安全限制？

### ✅ 兼容性测试
- [ ] Chrome浏览器最新版本是否正常？
- [ ] Firefox浏览器是否兼容？
- [ ] Safari浏览器是否兼容？
- [ ] iOS设备是否正常显示和操作？
- [ ] Android设备是否正常显示和操作？

### ✅ 第三方服务集成测试
- [ ] 腾讯云COS文件上传是否正常？
- [ ] 微信支付回调处理是否正确？
- [ ] RunningHub AI调用是否稳定？
- [ ] 短信服务是否正常发送？
- [ ] 第三方服务异常时的降级处理是否合理？

### ✅ 边界条件和异常场景测试
- [ ] 文件大小超限时的处理是否正确？
- [ ] 网络中断时的恢复机制是否完善？
- [ ] 重复提交的防护是否有效？
- [ ] 数据库连接异常时的处理是否合理？
- [ ] 系统资源不足时的表现是否可控？

### ✅ 回归测试和Bug验证
- [ ] 已有功能是否受到新功能影响？
- [ ] 之前发现的Bug是否都已修复？
- [ ] 修复后的Bug是否引入新问题？
- [ ] 核心业务流程是否仍然正常？
- [ ] 数据一致性是否得到保证？

## 输出前最后检查

在给出验收结论之前，请确认：

1. **功能完整性**：所有需求功能都已测试完成
2. **质量达标**：性能、安全、体验等指标都达到标准
3. **问题闭环**：发现的问题都有明确处理结果
4. **风险可控**：没有重大风险隐患
5. **文档完整**：测试报告和验收结论都已编写

## 常见错误避免

❌ **避免这些错误**：
- 只测试正常流程，忽略异常场景
- 忽略用户体验和界面细节
- 在不完整的环境下进行验收
- 为了赶进度而降低验收标准
- 发现问题但没有充分验证修复结果

✅ **坚持这些原则**：
- 全面测试，覆盖所有关键场景
- 严格标准，不降低质量要求
- 用户导向，重视使用体验
- 问题闭环，确保每个问题都得到解决
- 数据说话，用测试数据支撑结论

## 配额管理验收特别检查

⚠️ **配额管理核心检查（最高优先级）**：
- [ ] 配额扣减是否使用事务保证原子性？
- [ ] 并发场景下配额是否会出现负数？
- [ ] 任务失败时配额返还是否100%准确？
- [ ] 配额不足时系统是否正确阻止操作？
- [ ] 配额操作日志是否完整记录？
- [ ] 用户配额余额显示是否实时准确？

## 支付功能验收特别检查

⚠️ **支付安全核心检查**：
- [ ] 支付金额与订单金额是否严格一致？
- [ ] 支付成功后配额是否立即到账？
- [ ] 支付失败时是否有正确的错误提示？
- [ ] 重复支付是否能正确识别和处理？
- [ ] 支付异常是否会影响用户账户状态？

## AI功能验收特别检查

⚠️ **AI处理核心检查**：
- [ ] AI生成的图片质量是否达到业务要求？
- [ ] 异步处理的状态更新是否及时？
- [ ] 处理时间是否在用户可接受范围内？
- [ ] 处理失败时的用户提示是否友好？
- [ ] 第三方AI服务异常的影响是否可控？

## 用户体验验收标准

### 响应时间要求
- 页面加载 < 3秒
- API响应 < 500ms
- 用户操作反馈 < 200ms
- 文件上传进度实时显示

### 界面一致性要求
- 与设计稿像素级一致
- 交互效果符合现代Web标准
- 错误提示友好且有用
- 移动端和桌面端体验一致

### 功能完整性要求
- 所有用户操作都有明确反馈
- 异常情况都有合适处理
- 用户数据不会丢失
- 系统状态实时同步